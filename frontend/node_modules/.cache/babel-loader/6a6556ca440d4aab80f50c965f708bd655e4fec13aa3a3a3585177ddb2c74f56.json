{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\\\u96F2\\u6E67\\u667A\\u751F\\\\happysing_aws\\\\frontend\\\\src\\\\pages\\\\CasePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Home.css'; // Reuse the same gradient style\n\nimport { LightBulbIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { PaperAirplaneIcon } from '@heroicons/react/24/solid';\nimport Modal from 'react-modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CasePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [currentPrompt, setCurrentPrompt] = useState('');\n  const [baseImage, setBaseImage] = useState(null);\n  const [referenceImage, setReferenceImage] = useState(null);\n  const [timelineNodes, setTimelineNodes] = useState([]);\n  const [showImageModal, setShowImageModal] = useState(false);\n  const [dbImages, setDbImages] = useState([]);\n  const [baseImageUrl, setBaseImageUrl] = useState(null);\n\n  // Load any existing nodes from localStorage\n  useEffect(() => {\n    const stored = localStorage.getItem('case-history');\n    if (stored) {\n      try {\n        const history = JSON.parse(stored);\n        setTimelineNodes(history.map((item, index) => ({\n          id: `node-${index}`,\n          data: {\n            prompt: item.prompt,\n            timestamp: item.timestamp || Date.now(),\n            tags: ['主機外殼'],\n            imageUrl: item.imageUrl || null\n          }\n        })));\n      } catch (error) {\n        console.error('Error parsing case history:', error);\n      }\n    }\n  }, []);\n  async function callPromptBooster(promptText) {\n    const response = await fetch('https://409etc6v1f.execute-api.us-west-2.amazonaws.com/promptbooster', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_prompt: promptText,\n        inspiration_image_ids: [],\n        use_trends: true\n      })\n    });\n    const data = await response.json();\n    console.log('[DEBUG] API Response:', data); // <-- add this to see what API really returns\n\n    const boostedPrompt = data.boosted_prompt; // <-- NO MORE JSON.parse(data.body)\n\n    return boostedPrompt;\n  }\n  const handlePromptSubmit = async (promptText, original) => {\n    setLoading(true);\n    try {\n      const boostedPrompt = await callPromptBooster(promptText);\n      const newHistoryItem = {\n        prompt: promptText,\n        // 👈 still user prompt\n        timestamp: Date.now()\n      };\n      const stored = localStorage.getItem('case-history');\n      const history = stored ? JSON.parse(stored) : [];\n      history.push(newHistoryItem);\n      localStorage.setItem('case-history', JSON.stringify(history));\n      setTimelineNodes(prevNodes => [...prevNodes, {\n        id: `node-${prevNodes.length}`,\n        data: {\n          prompt: promptText,\n          timestamp: newHistoryItem.timestamp,\n          tags: ['主機外殼'],\n          imageUrl: null\n        }\n      }]);\n\n      // ⬇️ navigate with both\n      navigate('/generator', {\n        state: {\n          productType: 'case',\n          prompt: original,\n          // user input\n          boostedPrompt: boostedPrompt,\n          // AI boosted\n          baseImage: baseImage ? URL.createObjectURL(baseImage) : null,\n          referenceImage: referenceImage ? URL.createObjectURL(referenceImage) : null\n        }\n      });\n    } catch (error) {\n      console.error('Error boosting prompt:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleBackToSelection = () => {\n    navigate('/');\n  };\n  const handleOpenMindmap = () => {\n    navigate('/mindmap', {\n      state: {\n        productType: 'case'\n      }\n    });\n  };\n  const handleOpenTimeline = () => {\n    navigate('/timeline', {\n      state: {\n        productType: 'case'\n      }\n    });\n  };\n  const handleTryLuck = () => {\n    const luckyPrompts = [\"設計一款簡約風格的中塔式機箱，前面板採用鋁合金材質，側板為強化玻璃\", \"打造一款RGB燈效豐富的遊戲機箱，支援360mm水冷\", \"創造一款極簡風格的ITX小型機箱，優化空間利用率與散熱\", \"設計一款未來科技感的開放式機箱，突顯內部組件\"];\n    const randomPrompt = luckyPrompts[Math.floor(Math.random() * luckyPrompts.length)];\n    setCurrentPrompt(randomPrompt);\n    handlePromptSubmit(randomPrompt, randomPrompt);\n  };\n  const handleFileChange = (event, type) => {\n    var _event$target$files;\n    const file = ((_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0]) || null;\n    if (type === 'base') {\n      setBaseImage(file);\n    } else {\n      setReferenceImage(file);\n    }\n  };\n  const handleNodeSelect = node => {\n    setCurrentPrompt(node.data.prompt);\n    // Optionally, you could auto-submit this prompt\n    // handlePromptSubmit(node.data.prompt);\n  };\n  const handleOpenDbImageModal = async () => {\n    setShowImageModal(true);\n    if (dbImages.length === 0) {\n      const res = await fetch('http://localhost:8000/list-images');\n      const data = await res.json();\n      setDbImages(data.images);\n    }\n  };\n  const handleSelectDbImage = imgUrl => {\n    setBaseImageUrl(imgUrl);\n    setBaseImage(null); // 清除本地檔案\n    setShowImageModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container pb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-container max-w-2xl mx-auto p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBackToSelection,\n          className: \"flex items-center text-black hover:text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-1\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), \"\\u8FD4\\u56DE\\u9078\\u64C7\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenTimeline,\n            className: \"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), \"\\u6B77\\u53F2\\u8A18\\u9304\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenMindmap,\n            className: \"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(LightBulbIcon, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), \"\\u5FC3\\u667A\\u5716\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-center mb-4 text-black\",\n        children: \"\\u4E3B\\u6A5F\\u5916\\u6BBC\\u8A2D\\u8A08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-center mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleTryLuck,\n          className: \"px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-bold rounded-lg hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg\",\n          children: \"\\u8A66\\u624B\\u6C23\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border border-purple-200 rounded-xl p-4 mb-6 flex items-end space-x-2 shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: currentPrompt,\n          onChange: e => {\n            setCurrentPrompt(e.target.value);\n            e.target.style.height = 'auto';\n            e.target.style.height = e.target.scrollHeight + 'px';\n          },\n          onKeyDown: async e => {\n            if (e.key === 'Enter' && !e.shiftKey && currentPrompt.trim()) {\n              //e.preventDefault();\n              //handlePromptSubmit(currentPrompt.trim());\n              e.preventDefault();\n              const boostedPrompt = await callPromptBooster(currentPrompt.trim());\n              handlePromptSubmit(boostedPrompt, currentPrompt.trim()); // <-- now pass boosted prompt here!\n            }\n          },\n          placeholder: \"\\u63CF\\u8FF0\\u60A8\\u7406\\u60F3\\u4E2D\\u7684\\u6563\\u71B1\\u5668\\u8A2D\\u8A08...\",\n          rows: 1,\n          className: \"\\r flex-1 resize-none overflow-hidden \\r bg-white text-gray-800 placeholder-purple-400 \\r focus:outline-none\\r \",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => currentPrompt.trim() && handlePromptSubmit(currentPrompt.trim(), currentPrompt.trim()),\n          disabled: loading || !currentPrompt.trim(),\n          className: `\n      p-2 rounded-md transition\n      ${currentPrompt.trim() ? 'bg-purple-600 hover:bg-purple-700 text-white' : 'bg-purple-100 text-purple-300 cursor-not-allowed'}\n    `,\n          children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-extrabold mb-3 text-black font-inter\",\n            children: \"Upload Base Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => {\n                setBaseImageUrl(null); // 清除資料庫圖片\n                handleFileChange(e, 'base');\n              },\n              className: \"block w-full text-sm text-gray-500\\r file:mr-4 file:py-2 file:px-4\\r file:rounded-full file:border-0\\r file:text-sm file:font-semibold\\r file:bg-purple-50 file:text-purple-700\\r hover:file:bg-purple-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"px-3 py-2 bg-purple-100 text-purple-700 rounded hover:bg-purple-200\",\n              onClick: handleOpenDbImageModal,\n              children: \"\\u5F9E\\u8CC7\\u6599\\u5EAB\\u9078\\u64C7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), baseImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"Selected: \", baseImage.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), baseImageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: baseImageUrl,\n              alt: \"\\u5DF2\\u9078\\u5716\\u7247\",\n              className: \"w-24 h-24 object-cover rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 break-all\",\n              children: baseImageUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-extrabold mb-3 text-black font-inter\",\n            children: \"Upload Reference Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => handleFileChange(e, 'reference'),\n            className: \"block w-full text-sm text-gray-500\\r file:mr-4 file:py-2 file:px-4\\r file:rounded-full file:border-0\\r file:text-sm file:font-semibold\\r file:bg-purple-50 file:text-purple-700\\r hover:file:bg-purple-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), referenceImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"Selected: \", referenceImage.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-4 text-gray-900\",\n          children: \"Chats in this project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 3\n        }, this), timelineNodes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: timelineNodes.map((node, index) => {\n            var _node$data$tags;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 bg-white rounded-md hover:bg-purple-50 transition-colors shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => handleNodeSelect(node),\n                  className: \"flex items-start space-x-3 cursor-pointer flex-1\",\n                  children: [node.data.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: node.data.imageUrl,\n                    alt: node.data.prompt,\n                    className: \"w-12 h-12 object-cover rounded-md\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-800 truncate\",\n                      children: node.data.prompt\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap gap-1 mt-1\",\n                      children: (_node$data$tags = node.data.tags) === null || _node$data$tags === void 0 ? void 0 : _node$data$tags.map((tag, tagIdx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full\",\n                        children: tag\n                      }, tagIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 21\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: new Date(node.data.timestamp).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePromptSubmit(node.data.prompt, node.data.prompt),\n                  className: \"ml-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded transition-colors\",\n                  children: \"\\u91CD\\u65B0\\u4F7F\\u7528\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 11\n              }, this)\n            }, node.id || index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 9\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 5\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No history found yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showImageModal,\n      onRequestClose: () => setShowImageModal(false),\n      contentLabel: \"\\u9078\\u64C7\\u8CC7\\u6599\\u5EAB\\u5716\\u7247\",\n      ariaHideApp: false,\n      style: {\n        content: {\n          maxWidth: 600,\n          margin: 'auto',\n          height: '70%'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-4\",\n        children: \"\\u9078\\u64C7\\u4E00\\u5F35\\u5716\\u7247\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-4 overflow-y-auto\",\n        style: {\n          maxHeight: '350px'\n        },\n        children: dbImages.map(img => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cursor-pointer\",\n          onClick: () => handleSelectDbImage(img.image_url),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.image_url,\n            alt: img.description,\n            className: \"w-full h-24 object-cover rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs mt-1 text-center\",\n            children: img.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, img.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mt-4 px-4 py-2 bg-gray-200 rounded\",\n        onClick: () => setShowImageModal(false),\n        children: \"\\u53D6\\u6D88\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n_s(CasePage, \"XHf3XiVpzjdEz8gDE/q+DFxSDcA=\", false, function () {\n  return [useNavigate];\n});\n_c = CasePage;\nexport default CasePage;\nvar _c;\n$RefreshReg$(_c, \"CasePage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","LightBulbIcon","ClockIcon","PaperAirplaneIcon","Modal","jsxDEV","_jsxDEV","CasePage","_s","navigate","loading","setLoading","currentPrompt","setCurrentPrompt","baseImage","setBaseImage","referenceImage","setReferenceImage","timelineNodes","setTimelineNodes","showImageModal","setShowImageModal","dbImages","setDbImages","baseImageUrl","setBaseImageUrl","stored","localStorage","getItem","history","JSON","parse","map","item","index","id","data","prompt","timestamp","Date","now","tags","imageUrl","error","console","callPromptBooster","promptText","response","fetch","method","headers","body","stringify","user_prompt","inspiration_image_ids","use_trends","json","log","boostedPrompt","boosted_prompt","handlePromptSubmit","original","newHistoryItem","push","setItem","prevNodes","length","state","productType","URL","createObjectURL","handleBackToSelection","handleOpenMindmap","handleOpenTimeline","handleTryLuck","luckyPrompts","randomPrompt","Math","floor","random","handleFileChange","event","type","_event$target$files","file","target","files","handleNodeSelect","node","handleOpenDbImageModal","res","images","handleSelectDbImage","imgUrl","className","children","onClick","xmlns","viewBox","fill","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","style","height","scrollHeight","onKeyDown","key","shiftKey","trim","preventDefault","placeholder","rows","disabled","accept","name","src","alt","_node$data$tags","tag","tagIdx","toLocaleString","isOpen","onRequestClose","contentLabel","ariaHideApp","content","maxWidth","margin","maxHeight","img","image_url","description","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/雲湧智生/happysing_aws/frontend/src/pages/CasePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Home.css'; // Reuse the same gradient style\r\nimport ChatInput from '../components/ChatInput';\r\nimport { LightBulbIcon, ClockIcon } from '@heroicons/react/24/outline';\r\nimport { Timeline } from '../components/Timeline';\r\nimport { PaperAirplaneIcon } from '@heroicons/react/24/solid';\r\nimport Modal from 'react-modal';\r\n\r\n\r\nconst CasePage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentPrompt, setCurrentPrompt] = useState('');\r\n  const [baseImage, setBaseImage] = useState<File | null>(null);\r\n  const [referenceImage, setReferenceImage] = useState<File | null>(null);\r\n  const [timelineNodes, setTimelineNodes] = useState<any[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [dbImages, setDbImages] = useState<{id:number, image_url:string, description:string}[]>([]);\r\n  const [baseImageUrl, setBaseImageUrl] = useState<string | null>(null);\r\n  \r\n  // Load any existing nodes from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('case-history');\r\n    if (stored) {\r\n      try {\r\n        const history = JSON.parse(stored);\r\n        setTimelineNodes(history.map((item: any, index: number) => ({\r\n          id: `node-${index}`,\r\n          data: {\r\n            prompt: item.prompt,\r\n            timestamp: item.timestamp || Date.now(),\r\n            tags: ['主機外殼'],\r\n            imageUrl: item.imageUrl || null\r\n          }\r\n        })));\r\n      } catch (error) {\r\n        console.error('Error parsing case history:', error);\r\n      }\r\n    }\r\n  }, []);\r\n  \r\n  async function callPromptBooster(promptText: string): Promise<string> {\r\n    const response = await fetch('https://409etc6v1f.execute-api.us-west-2.amazonaws.com/promptbooster', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        user_prompt: promptText,\r\n        inspiration_image_ids: [],\r\n        use_trends: true\r\n      })\r\n    });\r\n  \r\n    const data = await response.json();\r\n    console.log('[DEBUG] API Response:', data);  // <-- add this to see what API really returns\r\n    \r\n    const boostedPrompt = data.boosted_prompt;   // <-- NO MORE JSON.parse(data.body)\r\n  \r\n    return boostedPrompt;\r\n  }\r\n  \r\n  \r\n  const handlePromptSubmit = async (promptText: string, original: string) => {\r\n    setLoading(true);\r\n  \r\n    try {\r\n      const boostedPrompt = await callPromptBooster(promptText);\r\n  \r\n      const newHistoryItem = {\r\n        prompt: promptText,   // 👈 still user prompt\r\n        timestamp: Date.now()\r\n      };\r\n  \r\n      const stored = localStorage.getItem('case-history');\r\n      const history = stored ? JSON.parse(stored) : [];\r\n      history.push(newHistoryItem);\r\n      localStorage.setItem('case-history', JSON.stringify(history));\r\n  \r\n      setTimelineNodes(prevNodes => [\r\n        ...prevNodes,\r\n        {\r\n          id: `node-${prevNodes.length}`,\r\n          data: {\r\n            prompt: promptText,\r\n            timestamp: newHistoryItem.timestamp,\r\n            tags: ['主機外殼'],\r\n            imageUrl: null\r\n          }\r\n        }\r\n      ]);\r\n  \r\n      // ⬇️ navigate with both\r\n      navigate('/generator', { \r\n        state: { \r\n          productType: 'case', \r\n          prompt: original,         // user input\r\n          boostedPrompt: boostedPrompt, // AI boosted\r\n          baseImage: baseImage ? URL.createObjectURL(baseImage) : null,\r\n          referenceImage: referenceImage ? URL.createObjectURL(referenceImage) : null\r\n        } \r\n      });\r\n    } catch (error) {\r\n      console.error('Error boosting prompt:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleBackToSelection = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const handleOpenMindmap = () => {\r\n    navigate('/mindmap', { state: { productType: 'case' } });\r\n  };\r\n  \r\n  const handleOpenTimeline = () => {\r\n    navigate('/timeline', { state: { productType: 'case' } });\r\n  };\r\n  \r\n  const handleTryLuck = () => {\r\n    const luckyPrompts = [\r\n      \"設計一款簡約風格的中塔式機箱，前面板採用鋁合金材質，側板為強化玻璃\",\r\n      \"打造一款RGB燈效豐富的遊戲機箱，支援360mm水冷\",\r\n      \"創造一款極簡風格的ITX小型機箱，優化空間利用率與散熱\",\r\n      \"設計一款未來科技感的開放式機箱，突顯內部組件\"\r\n    ];\r\n    const randomPrompt = luckyPrompts[Math.floor(Math.random() * luckyPrompts.length)];\r\n    setCurrentPrompt(randomPrompt);\r\n    handlePromptSubmit(randomPrompt, randomPrompt);\r\n  };\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>, type: 'base' | 'reference') => {\r\n    const file = event.target.files?.[0] || null;\r\n    if (type === 'base') {\r\n      setBaseImage(file);\r\n    } else {\r\n      setReferenceImage(file);\r\n    }\r\n  };\r\n\r\n  const handleNodeSelect = (node: any) => {\r\n    setCurrentPrompt(node.data.prompt);\r\n    // Optionally, you could auto-submit this prompt\r\n    // handlePromptSubmit(node.data.prompt);\r\n  };\r\n\r\n  const handleOpenDbImageModal = async () => {\r\n    setShowImageModal(true);\r\n    if (dbImages.length === 0) {\r\n      const res = await fetch('http://localhost:8000/list-images');\r\n      const data = await res.json();\r\n      setDbImages(data.images);\r\n    }\r\n  };\r\n\r\n  const handleSelectDbImage = (imgUrl: string) => {\r\n    setBaseImageUrl(imgUrl);\r\n    setBaseImage(null); // 清除本地檔案\r\n    setShowImageModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-container pb-24\">\r\n      <div className=\"content-container max-w-2xl mx-auto p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <button \r\n            onClick={handleBackToSelection}\r\n            className=\"flex items-center text-black hover:text-gray-700\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            返回選擇\r\n          </button>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleOpenTimeline}\r\n              className=\"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\r\n            >\r\n              <ClockIcon className=\"w-5 h-5 mr-2\" />\r\n              歷史記錄\r\n            </button>\r\n            <button\r\n              onClick={handleOpenMindmap}\r\n              className=\"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\r\n            >\r\n              <LightBulbIcon className=\"w-5 h-5 mr-2\" />\r\n              心智圖\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <h1 className=\"text-3xl font-bold text-center mb-4 text-black\">主機外殼設計</h1>\r\n        \r\n        {/* Banner button for \"Try Your Luck\" */}\r\n        <div className=\"w-full flex justify-center mb-8\">\r\n          <button\r\n            onClick={handleTryLuck}\r\n            className=\"px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-bold rounded-lg hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg\"\r\n          >\r\n            試手氣\r\n          </button>\r\n        </div>\r\n{/* ——— New ChatGPT-style Input ——— */}\r\n<div className=\"bg-white border border-purple-200 rounded-xl p-4 mb-6 flex items-end space-x-2 shadow-lg\">\r\n  <textarea\r\n    value={currentPrompt}\r\n    onChange={e => {\r\n      setCurrentPrompt(e.target.value);\r\n      e.target.style.height = 'auto';\r\n      e.target.style.height = e.target.scrollHeight + 'px';\r\n    }}\r\n    onKeyDown={async (e) => {\r\n      if (e.key === 'Enter' && !e.shiftKey && currentPrompt.trim()) {\r\n        //e.preventDefault();\r\n        //handlePromptSubmit(currentPrompt.trim());\r\n        e.preventDefault();\r\n        const boostedPrompt = await callPromptBooster(currentPrompt.trim());\r\n        handlePromptSubmit(boostedPrompt, currentPrompt.trim()); // <-- now pass boosted prompt here!\r\n      }\r\n    }}\r\n    placeholder=\"描述您理想中的散熱器設計...\"\r\n    rows={1}\r\n    className=\"\r\n      flex-1 resize-none overflow-hidden \r\n      bg-white text-gray-800 placeholder-purple-400 \r\n      focus:outline-none\r\n    \"\r\n    disabled={loading}\r\n  />\r\n\r\n  <button\r\n    onClick={() => currentPrompt.trim() && handlePromptSubmit(currentPrompt.trim(), currentPrompt.trim())}\r\n    disabled={loading || !currentPrompt.trim()}\r\n    className={`\r\n      p-2 rounded-md transition\r\n      ${currentPrompt.trim()\r\n        ? 'bg-purple-600 hover:bg-purple-700 text-white'\r\n        : 'bg-purple-100 text-purple-300 cursor-not-allowed'}\r\n    `}\r\n  >\r\n    <PaperAirplaneIcon className=\"w-5 h-5\" />\r\n  </button>\r\n</div>\r\n\r\n        \r\n        {/* Upload Image Sections */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-8\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-4\">\r\n            <h3 className=\"text-md font-extrabold mb-3 text-black font-inter\">Upload Base Image</h3>\r\n            <div className=\"flex gap-2\">\r\n              <input \r\n                type=\"file\" \r\n                accept=\"image/*\" \r\n                onChange={(e) => {\r\n                  setBaseImageUrl(null); // 清除資料庫圖片\r\n                  handleFileChange(e, 'base');\r\n                }}\r\n                className=\"block w-full text-sm text-gray-500\r\n                  file:mr-4 file:py-2 file:px-4\r\n                  file:rounded-full file:border-0\r\n                  file:text-sm file:font-semibold\r\n                  file:bg-purple-50 file:text-purple-700\r\n                  hover:file:bg-purple-100\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-3 py-2 bg-purple-100 text-purple-700 rounded hover:bg-purple-200\"\r\n                onClick={handleOpenDbImageModal}\r\n              >\r\n                從資料庫選擇\r\n              </button>\r\n            </div>\r\n            {/* 顯示已選圖片 */}\r\n            {baseImage && (\r\n              <div className=\"mt-2\">\r\n                <p className=\"text-xs text-gray-500\">Selected: {baseImage.name}</p>\r\n              </div>\r\n            )}\r\n            {baseImageUrl && (\r\n              <div className=\"mt-2\">\r\n                <img src={baseImageUrl} alt=\"已選圖片\" className=\"w-24 h-24 object-cover rounded\" />\r\n                <p className=\"text-xs text-gray-500 break-all\">{baseImageUrl}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow-md p-4\">\r\n            <h3 className=\"text-md font-extrabold mb-3 text-black font-inter\">Upload Reference Image</h3>\r\n            <input \r\n              type=\"file\" \r\n              accept=\"image/*\" \r\n              onChange={(e) => handleFileChange(e, 'reference')}\r\n              className=\"block w-full text-sm text-gray-500\r\n                file:mr-4 file:py-2 file:px-4\r\n                file:rounded-full file:border-0\r\n                file:text-sm file:font-semibold\r\n                file:bg-purple-50 file:text-purple-700\r\n                hover:file:bg-purple-100\"\r\n            />\r\n            {referenceImage && (\r\n              <div className=\"mt-2\">\r\n                <p className=\"text-xs text-gray-500\">Selected: {referenceImage.name}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n{/* ——— Timeline Section ——— */}\r\n<div className=\"bg-white rounded-lg shadow-lg p-4\">\r\n  <h2 className=\"text-lg font-semibold mb-4 text-gray-900\">Chats in this project</h2>\r\n  {timelineNodes.length > 0 ? (\r\n    <div className=\"space-y-2\">\r\n      {timelineNodes.map((node, index) => (\r\n        <div\r\n          key={node.id || index}\r\n          className=\"p-3 bg-white rounded-md hover:bg-purple-50 transition-colors shadow-lg\"\r\n        >\r\n          <div className=\"flex items-start justify-between\">\r\n            <div\r\n              onClick={() => handleNodeSelect(node)}\r\n              className=\"flex items-start space-x-3 cursor-pointer flex-1\"\r\n            >\r\n              {node.data.imageUrl && (\r\n                <img\r\n                  src={node.data.imageUrl}\r\n                  alt={node.data.prompt}\r\n                  className=\"w-12 h-12 object-cover rounded-md\"\r\n                />\r\n              )}\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm text-gray-800 truncate\">{node.data.prompt}</p>\r\n                <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                  {node.data.tags?.map((tag: string, tagIdx: number) => (\r\n                    <span\r\n                      key={tagIdx}\r\n                      className=\"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full\"\r\n                    >\r\n                      {tag}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  {new Date(node.data.timestamp).toLocaleString()}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => handlePromptSubmit(node.data.prompt, node.data.prompt)}\r\n              className=\"ml-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded transition-colors\"\r\n            >\r\n              重新使用\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  ) : (\r\n    <p className=\"text-gray-500\">No history found yet.</p>\r\n  )}\r\n</div>\r\n\r\n      </div>\r\n      <Modal\r\n        isOpen={showImageModal}\r\n        onRequestClose={() => setShowImageModal(false)}\r\n        contentLabel=\"選擇資料庫圖片\"\r\n        ariaHideApp={false}\r\n        style={{\r\n          content: { maxWidth: 600, margin: 'auto', height: '70%' }\r\n        }}\r\n      >\r\n        <h2 className=\"text-lg font-bold mb-4\">選擇一張圖片</h2>\r\n        <div className=\"grid grid-cols-3 gap-4 overflow-y-auto\" style={{maxHeight: '350px'}}>\r\n          {dbImages.map(img => (\r\n            <div key={img.id} className=\"cursor-pointer\" onClick={() => handleSelectDbImage(img.image_url)}>\r\n              <img src={img.image_url} alt={img.description} className=\"w-full h-24 object-cover rounded\" />\r\n              <p className=\"text-xs mt-1 text-center\">{img.description}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button className=\"mt-4 px-4 py-2 bg-gray-200 rounded\" onClick={() => setShowImageModal(false)}>取消</button>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CasePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}