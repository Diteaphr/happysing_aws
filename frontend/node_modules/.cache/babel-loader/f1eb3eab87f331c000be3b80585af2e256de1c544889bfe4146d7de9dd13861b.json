{"ast":null,"code":"var _jsxFileName = \"/Users/Dascupt/happysing_aws/frontend/src/components/ChatInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './ChatInput.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInput = ({\n  onSubmit,\n  placeholder = \"描述您想要的設計...\",\n  loading = false,\n  onTextChange\n}) => {\n  _s();\n  const [prompt, setPrompt] = useState('');\n  const textareaRef = useRef(null);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (prompt.trim() && !loading) {\n      onSubmit(prompt);\n      setPrompt('');\n      // Reset textarea height\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n      }\n    }\n  };\n\n  // Auto-resize textarea\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = `${Math.min(textarea.scrollHeight, 200)}px`;\n    }\n  }, [prompt]);\n\n  // Call onTextChange when prompt changes\n  useEffect(() => {\n    if (onTextChange) {\n      onTextChange(prompt);\n    }\n  }, [prompt, onTextChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-input-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"chat-form\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textarea-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            value: prompt,\n            onChange: e => setPrompt(e.target.value),\n            placeholder: placeholder,\n            rows: 1,\n            className: \"chat-textarea\",\n            onKeyDown: e => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSubmit(e);\n              }\n            },\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: `submit-button ${!prompt.trim() || loading ? 'disabled' : ''}`,\n            disabled: !prompt.trim() || loading,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              className: \"send-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"disclaimer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"AI \\u8A2D\\u8A08\\u52A9\\u624B\\u4F86\\u81EA Cooler Master\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInput, \"VvfsFpfl+wLaUMwChO/fpEkCIRc=\");\n_c = ChatInput;\nexport default ChatInput;\nvar _c;\n$RefreshReg$(_c, \"ChatInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ChatInput","onSubmit","placeholder","loading","onTextChange","_s","prompt","setPrompt","textareaRef","handleSubmit","e","preventDefault","trim","current","style","height","textarea","Math","min","scrollHeight","className","children","ref","value","onChange","target","rows","onKeyDown","key","shiftKey","disabled","fileName","_jsxFileName","lineNumber","columnNumber","type","xmlns","viewBox","fill","d","_c","$RefreshReg$"],"sources":["/Users/Dascupt/happysing_aws/frontend/src/components/ChatInput.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './ChatInput.css';\n\ninterface ChatInputProps {\n  onSubmit: (prompt: string) => void;\n  placeholder?: string;\n  loading?: boolean;\n  onTextChange?: (text: string) => void;\n}\n\nconst ChatInput: React.FC<ChatInputProps> = ({ \n  onSubmit, \n  placeholder = \"描述您想要的設計...\", \n  loading = false,\n  onTextChange\n}) => {\n  const [prompt, setPrompt] = useState('');\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  \n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (prompt.trim() && !loading) {\n      onSubmit(prompt);\n      setPrompt('');\n      // Reset textarea height\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n      }\n    }\n  };\n\n  // Auto-resize textarea\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = `${Math.min(textarea.scrollHeight, 200)}px`;\n    }\n  }, [prompt]);\n\n  // Call onTextChange when prompt changes\n  useEffect(() => {\n    if (onTextChange) {\n      onTextChange(prompt);\n    }\n  }, [prompt, onTextChange]);\n\n  return (\n    <div className=\"chat-input-container\">\n      <div className=\"chat-input-wrapper\">\n        <form onSubmit={handleSubmit} className=\"chat-form\">\n          <div className=\"textarea-container\">\n            <textarea\n              ref={textareaRef}\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              placeholder={placeholder}\n              rows={1}\n              className=\"chat-textarea\"\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSubmit(e);\n                }\n              }}\n              disabled={loading}\n            />\n            <button \n              type=\"submit\"\n              className={`submit-button ${!prompt.trim() || loading ? 'disabled' : ''}`}\n              disabled={!prompt.trim() || loading}\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"send-icon\">\n                <path d=\"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z\" />\n              </svg>\n            </button>\n          </div>\n        </form>\n      </div>\n      <div className=\"disclaimer\">\n        <p>AI 設計助手來自 Cooler Master</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInput; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}