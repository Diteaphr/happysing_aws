{"ast":null,"code":"var _jsxFileName = \"/Users/Dascupt/happysing_aws/frontend/src/pages/CoolerPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Home.css'; // Reuse the same gradient style\nimport ChatInput from '../components/ChatInput';\nimport { LightBulbIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { addNodeToMindmap } from './MindmapPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CoolerPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [currentPrompt, setCurrentPrompt] = useState('');\n  const [savedPrompts, setSavedPrompts] = useState([]);\n\n  // Load any pending prompts from localStorage for debugging\n  useEffect(() => {\n    const stored = localStorage.getItem('mindmap-pending-nodes');\n    if (stored) {\n      try {\n        const pending = JSON.parse(stored);\n        const promptTexts = pending.map(node => node.prompt);\n        setSavedPrompts(promptTexts);\n        console.log('Pending nodes found:', pending);\n      } catch (error) {\n        console.error('Error parsing pending nodes:', error);\n      }\n    }\n  }, []);\n\n  // Add a function to navigate to generator with mindmap data\n  const navigateToGenerator = promptText => {\n    // Simply navigate to the generator page\n    // The mindmap button will be displayed after loading is complete\n    navigate('/generator', {\n      state: {\n        productType: 'cooler',\n        prompt: promptText\n      }\n    });\n  };\n\n  // Modify handlePromptSubmit to use the new navigation function\n  const handlePromptSubmit = async promptText => {\n    setCurrentPrompt(promptText);\n    setLoading(true);\n    try {\n      console.log('Submitting prompt:', promptText);\n\n      // Always add to local savedPrompts list for user feedback\n      setSavedPrompts(prev => [...prev, promptText]);\n\n      // Try to add the node to mindmap and store the result\n      const nodeAdded = addNodeToMindmap(promptText);\n      console.log('Node added result:', nodeAdded);\n\n      // Double-check localStorage to ensure it was saved\n      const stored = localStorage.getItem('mindmap-pending-nodes');\n      const pendingNodes = stored ? JSON.parse(stored) : [];\n\n      // Add the node to pending if it wasn't added directly and isn't already there\n      if (!nodeAdded && !pendingNodes.some(node => node.prompt === promptText)) {\n        console.log(\"Node wasn't added directly, ensuring it's in localStorage\");\n        pendingNodes.push({\n          prompt: promptText,\n          timestamp: Date.now()\n        });\n        localStorage.setItem('mindmap-pending-nodes', JSON.stringify(pendingNodes));\n      }\n\n      // Show feedback to user\n      if (nodeAdded) {\n        // If the node was added directly to the mindmap, show a notification\n        const userWantsToSeeMap = window.confirm('已添加到心智圖！您要查看心智圖嗎？');\n        if (userWantsToSeeMap) {\n          navigate('/mindmap', {\n            state: {\n              productType: 'cooler',\n              initialPrompt: promptText\n            }\n          });\n          return; // Don't continue to generator\n        }\n      } else {\n        // If the node was stored for later, also show a notification\n        alert('您的輸入已保存，將在心智圖頁面中顯示。');\n      }\n\n      // Continue with normal navigation to generator\n      navigateToGenerator(promptText);\n    } catch (error) {\n      console.error('Error adding node to mindmap:', error);\n\n      // Even if there's an error, try to save to localStorage as a fallback\n      try {\n        const stored = localStorage.getItem('mindmap-pending-nodes');\n        const pendingNodes = stored ? JSON.parse(stored) : [];\n        pendingNodes.push({\n          prompt: promptText,\n          timestamp: Date.now()\n        });\n        localStorage.setItem('mindmap-pending-nodes', JSON.stringify(pendingNodes));\n        console.log('Saved to localStorage as fallback');\n      } catch (storageError) {\n        console.error('Failed to save to localStorage:', storageError);\n      }\n\n      // Still proceed with navigation even if there's an error\n      navigateToGenerator(promptText);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleBackToSelection = () => {\n    navigate('/');\n  };\n  const handleOpenMindmap = () => {\n    // Pass the current prompt when opening mindmap, if available\n    navigate('/mindmap', {\n      state: {\n        productType: 'cooler',\n        initialPrompt: currentPrompt || undefined\n      }\n    });\n  };\n  const handleOpenTimeline = () => {\n    navigate('/timeline', {\n      state: {\n        productType: 'cooler'\n      }\n    });\n  };\n\n  // Add a function to directly add the current input to mindmap without navigating\n  const handleAddToMindmap = () => {\n    if (!currentPrompt) return;\n    const nodeAdded = addNodeToMindmap(currentPrompt);\n    console.log('Added to mindmap directly:', nodeAdded);\n\n    // Show feedback to user\n    alert('已添加到心智圖！');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container pb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-container max-w-2xl mx-auto p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBackToSelection,\n          className: \"flex items-center text-black hover:text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5 mr-1\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), \"\\u8FD4\\u56DE\\u9078\\u64C7\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenTimeline,\n            className: \"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), \"\\u6B77\\u53F2\\u8A18\\u9304\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenMindmap,\n            className: \"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(LightBulbIcon, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), \"\\u5FC3\\u667A\\u5716\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-center mb-8 text-black\",\n        children: \"\\u6563\\u71B1\\u5668\\u8A2D\\u8A08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-black mb-4\",\n          children: \"\\u6B61\\u8FCE\\u4F7F\\u7528 Cooler Master AI \\u8A2D\\u8A08\\u52A9\\u624B\\u3002\\u8ACB\\u63CF\\u8FF0\\u60A8\\u7406\\u60F3\\u4E2D\\u7684\\u6563\\u71B1\\u5668\\u8A2D\\u8A08\\uFF0C\\u8D8A\\u8A73\\u7D30\\u8D8A\\u597D\\u3002\\u60A8\\u53EF\\u4EE5\\u5305\\u542B\\u4EE5\\u4E0B\\u7D30\\u7BC0\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-6 text-black space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u6563\\u71B1\\u5668\\u985E\\u578B (\\u98A8\\u51B7\\u3001\\u6C34\\u51B7\\u7B49)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u98A8\\u6247\\u985E\\u578B\\u548C\\u5927\\u5C0F (120mm\\u3001140mm\\u7B49)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u6563\\u71B1\\u6548\\u80FD\\u504F\\u597D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u566A\\u97F3\\u63A7\\u5236\\u8981\\u6C42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"RGB \\u71C8\\u6548\\u504F\\u597D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u5C3A\\u5BF8\\u8981\\u6C42\\u548C\\u5B89\\u88DD\\u9650\\u5236\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), savedPrompts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-4 bg-gray-800 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-white font-semibold mb-2\",\n          children: \"\\u5F85\\u8655\\u7406\\u7684\\u5FC3\\u667A\\u5716\\u7BC0\\u9EDE\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-6 text-gray-300\",\n          children: savedPrompts.map((prompt, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: prompt\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this), currentPrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddToMindmap,\n          className: \"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n          children: \"\\u6DFB\\u52A0\\u7576\\u524D\\u8F38\\u5165\\u5230\\u5FC3\\u667A\\u5716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n      onSubmit: handlePromptSubmit,\n      placeholder: \"\\u63CF\\u8FF0\\u60A8\\u7406\\u60F3\\u4E2D\\u7684\\u6563\\u71B1\\u5668\\u8A2D\\u8A08...\",\n      loading: loading,\n      onTextChange: setCurrentPrompt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(CoolerPage, \"UKraBlIobzixwHTEUox90eqCknk=\", false, function () {\n  return [useNavigate];\n});\n_c = CoolerPage;\nexport default CoolerPage;\nvar _c;\n$RefreshReg$(_c, \"CoolerPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ChatInput","LightBulbIcon","ClockIcon","addNodeToMindmap","jsxDEV","_jsxDEV","CoolerPage","_s","navigate","loading","setLoading","currentPrompt","setCurrentPrompt","savedPrompts","setSavedPrompts","stored","localStorage","getItem","pending","JSON","parse","promptTexts","map","node","prompt","console","log","error","navigateToGenerator","promptText","state","productType","handlePromptSubmit","prev","nodeAdded","pendingNodes","some","push","timestamp","Date","now","setItem","stringify","userWantsToSeeMap","window","confirm","initialPrompt","alert","storageError","handleBackToSelection","handleOpenMindmap","undefined","handleOpenTimeline","handleAddToMindmap","className","children","onClick","xmlns","viewBox","fill","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","length","index","onSubmit","placeholder","onTextChange","_c","$RefreshReg$"],"sources":["/Users/Dascupt/happysing_aws/frontend/src/pages/CoolerPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Home.css'; // Reuse the same gradient style\nimport ChatInput from '../components/ChatInput';\nimport { LightBulbIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { addNodeToMindmap } from './MindmapPage';\n\nconst CoolerPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [currentPrompt, setCurrentPrompt] = useState('');\n  const [savedPrompts, setSavedPrompts] = useState<string[]>([]);\n  \n  // Load any pending prompts from localStorage for debugging\n  useEffect(() => {\n    const stored = localStorage.getItem('mindmap-pending-nodes');\n    if (stored) {\n      try {\n        const pending = JSON.parse(stored);\n        const promptTexts = pending.map((node: { prompt: string }) => node.prompt);\n        setSavedPrompts(promptTexts);\n        console.log('Pending nodes found:', pending);\n      } catch (error) {\n        console.error('Error parsing pending nodes:', error);\n      }\n    }\n  }, []);\n  \n  // Add a function to navigate to generator with mindmap data\n  const navigateToGenerator = (promptText: string) => {\n    // Simply navigate to the generator page\n    // The mindmap button will be displayed after loading is complete\n    navigate('/generator', { \n      state: { \n        productType: 'cooler', \n        prompt: promptText \n      } \n    });\n  };\n\n  // Modify handlePromptSubmit to use the new navigation function\n  const handlePromptSubmit = async (promptText: string) => {\n    setCurrentPrompt(promptText);\n    setLoading(true);\n    \n    try {\n      console.log('Submitting prompt:', promptText);\n      \n      // Always add to local savedPrompts list for user feedback\n      setSavedPrompts(prev => [...prev, promptText]);\n      \n      // Try to add the node to mindmap and store the result\n      const nodeAdded = addNodeToMindmap(promptText);\n      console.log('Node added result:', nodeAdded);\n      \n      // Double-check localStorage to ensure it was saved\n      const stored = localStorage.getItem('mindmap-pending-nodes');\n      const pendingNodes = stored ? JSON.parse(stored) : [];\n      \n      // Add the node to pending if it wasn't added directly and isn't already there\n      if (!nodeAdded && !pendingNodes.some((node: any) => node.prompt === promptText)) {\n        console.log(\"Node wasn't added directly, ensuring it's in localStorage\");\n        pendingNodes.push({\n          prompt: promptText,\n          timestamp: Date.now()\n        });\n        localStorage.setItem('mindmap-pending-nodes', JSON.stringify(pendingNodes));\n      }\n      \n      // Show feedback to user\n      if (nodeAdded) {\n        // If the node was added directly to the mindmap, show a notification\n        const userWantsToSeeMap = window.confirm('已添加到心智圖！您要查看心智圖嗎？');\n        if (userWantsToSeeMap) {\n          navigate('/mindmap', { \n            state: { \n              productType: 'cooler',\n              initialPrompt: promptText\n            }\n          });\n          return; // Don't continue to generator\n        }\n      } else {\n        // If the node was stored for later, also show a notification\n        alert('您的輸入已保存，將在心智圖頁面中顯示。');\n      }\n      \n      // Continue with normal navigation to generator\n      navigateToGenerator(promptText);\n    } catch (error) {\n      console.error('Error adding node to mindmap:', error);\n      \n      // Even if there's an error, try to save to localStorage as a fallback\n      try {\n        const stored = localStorage.getItem('mindmap-pending-nodes');\n        const pendingNodes = stored ? JSON.parse(stored) : [];\n        pendingNodes.push({\n          prompt: promptText,\n          timestamp: Date.now()\n        });\n        localStorage.setItem('mindmap-pending-nodes', JSON.stringify(pendingNodes));\n        console.log('Saved to localStorage as fallback');\n      } catch (storageError) {\n        console.error('Failed to save to localStorage:', storageError);\n      }\n      \n      // Still proceed with navigation even if there's an error\n      navigateToGenerator(promptText);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBackToSelection = () => {\n    navigate('/');\n  };\n\n  const handleOpenMindmap = () => {\n    // Pass the current prompt when opening mindmap, if available\n    navigate('/mindmap', { \n      state: { \n        productType: 'cooler',\n        initialPrompt: currentPrompt || undefined\n      } \n    });\n  };\n\n  const handleOpenTimeline = () => {\n    navigate('/timeline', { state: { productType: 'cooler' } });\n  };\n\n  // Add a function to directly add the current input to mindmap without navigating\n  const handleAddToMindmap = () => {\n    if (!currentPrompt) return;\n    \n    const nodeAdded = addNodeToMindmap(currentPrompt);\n    console.log('Added to mindmap directly:', nodeAdded);\n    \n    // Show feedback to user\n    alert('已添加到心智圖！');\n  };\n\n  return (\n    <div className=\"home-container pb-24\">\n      <div className=\"content-container max-w-2xl mx-auto p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <button \n            onClick={handleBackToSelection}\n            className=\"flex items-center text-black hover:text-gray-700\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n            </svg>\n            返回選擇\n          </button>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={handleOpenTimeline}\n              className=\"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\n            >\n              <ClockIcon className=\"w-5 h-5 mr-2\" />\n              歷史記錄\n            </button>\n            <button\n              onClick={handleOpenMindmap}\n              className=\"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\n            >\n              <LightBulbIcon className=\"w-5 h-5 mr-2\" />\n              心智圖\n            </button>\n          </div>\n        </div>\n\n        <h1 className=\"text-3xl font-bold text-center mb-8 text-black\">散熱器設計</h1>\n        \n        <div className=\"mb-12\">\n          <p className=\"text-black mb-4\">\n            歡迎使用 Cooler Master AI 設計助手。請描述您理想中的散熱器設計，越詳細越好。您可以包含以下細節：\n          </p>\n          <ul className=\"list-disc pl-6 text-black space-y-2\">\n            <li>散熱器類型 (風冷、水冷等)</li>\n            <li>風扇類型和大小 (120mm、140mm等)</li>\n            <li>散熱效能偏好</li>\n            <li>噪音控制要求</li>\n            <li>RGB 燈效偏好</li>\n            <li>尺寸要求和安裝限制</li>\n          </ul>\n        </div>\n        \n        {/* Debug information - hidden in production */}\n        {savedPrompts.length > 0 && (\n          <div className=\"mb-4 p-4 bg-gray-800 rounded\">\n            <h3 className=\"text-white font-semibold mb-2\">待處理的心智圖節點：</h3>\n            <ul className=\"list-disc pl-6 text-gray-300\">\n              {savedPrompts.map((prompt, index) => (\n                <li key={index}>{prompt}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n        \n        {/* Add button to directly add to mindmap */}\n        {currentPrompt && (\n          <div className=\"mb-4 flex justify-center\">\n            <button\n              onClick={handleAddToMindmap}\n              className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\n            >\n              添加當前輸入到心智圖\n            </button>\n          </div>\n        )}\n      </div>\n      \n      <ChatInput \n        onSubmit={handlePromptSubmit} \n        placeholder=\"描述您理想中的散熱器設計...\" \n        loading={loading}\n        onTextChange={setCurrentPrompt}\n      />\n    </div>\n  );\n};\n\nexport default CoolerPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}